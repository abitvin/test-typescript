<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Unit tests</title>
    <link rel="stylesheet" href="Test.css" />
</head>
<body>
    <script src="Test.js"></script>
    <script>

        new Abitvin.Test("Math")
            .it("Addition", (assert, done) =>
            {
                assert(1 + 1 === 2);
                assert(3 + -10 === -7);
                assert(-20 + -12 === -32);
                done();
            })
            .it("Multiplication", (assert, done) =>
            {
                assert(2 * 3 === 6);
                assert(-2 * 3 === -6);
                assert(2 * -3 === -6);
                assert(-2 * -3 === 6);
                done();
            });

        new Abitvin.Test("Async")
            .it("Timeout 1000ms", (assert, done) =>
            {
                assert(true);

                setTimeout(() => {
                    assert(true);
                    done();
                }, 1000);
            })
            .it("Promise 2000ms", (assert, done) => 
            {
                const p = new Promise(resolve =>
                    setTimeout(() => resolve(1234), 2000));

                p.then(data => {
                    assert(data === 1234);
                    done();
                });
            });

        new Abitvin.Test("Failure")
            .it("What does failure look like?", (assert, done) =>
            {
                assert(false);
                done();
            });

    </script>
</body>
</html>
